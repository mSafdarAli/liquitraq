<div class="container-cust">
  <form [formGroup]="form" (ngSubmit)="onSubmit()">
    <div class="card">
      <div class="card-body">
        <div class="row">
          <div class="col-12 col-md-6 my-2">
            <div class="form-group">
              <mat-label>User Name</mat-label>
              <mat-form-field class="w-100">
                <input matInput formControlName="name" type="text" placeholder="Enter Username" />
                <mat-error>
                  <vmessage field="name" [control]="form.controls['name']" >
                  </vmessage>
                </mat-error>
              </mat-form-field>
            </div>
            <div class="form-group">
              <mat-label>Email</mat-label>
              <mat-form-field class="w-100">
                <input matInput formControlName="email" type="email" placeholder="Enter Email Address"/>
                <mat-error>
                  <vmessage field="email" [control]="form.controls['email']">
                  </vmessage>
                </mat-error>
              </mat-form-field>
            </div>
            <div class="form-group">
              <mat-label>Company Name</mat-label>
              <mat-form-field class="w-100">
                <input formControlName="company_name" matInput type="text" placeholder="Enter Company Name"/>
                <mat-error>
                  <vmessage
                    field="company_name"
                    [control]="form.controls['company_name']"
                  >
                  </vmessage>
                </mat-error>
              </mat-form-field>
            </div>
            <div class="form-group">
              <mat-label>Contact Telephone</mat-label>
              <mat-form-field class="w-100">
                <input matInput formControlName="contact" type="tel" [pattern]="'/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/'" placeholder="Enter Contact Number (123) 123 1234"/>
                <mat-error>
                  <vmessage
                    field="contact"
                    [control]="form.controls['contact']"
                  >
                  </vmessage>
                </mat-error>
              </mat-form-field>
            </div>
            <div class="form-group">
              <mat-label>Role</mat-label>
              <lb-auto-complete appearance="outline" placeholder="Select Role" [multiple]="false" [clear]="false"
                        [fControl]="form.controls['role']" [options]="selectRole">
                    </lb-auto-complete>
            </div>
          </div>
          <div class="col-12 col-md-6">
            <div class="profile-Image">
              <div class="col-12 mb-2 p-0">
                <img [src]="image" onError="this.src='/assets/images/defaultImage.png'" class="w-100 mt-md-5" alt="">
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="card">
      <div class="card-body">
        <div class="form-group">
          <mat-label>Corporate Address</mat-label>
          <mat-form-field class="w-100">
            <input matInput formControlName="corporate_address" type="text" placeholder="Enter Corporate Address"/>
            <mat-error>
              <vmessage
                field="corporate_address"
                [control]="form.controls['corporate_address']"
              >
              </vmessage>
            </mat-error>
          </mat-form-field>
        </div>
        <div class="form-group">
          <mat-label>Location Address</mat-label>
          <mat-form-field class="w-100">
            <input matInput formControlName="location_address" type="text" placeholder="Enter Location Address"/>
            <mat-error>
              <vmessage
                field="location_address"
                [control]="form.controls['location_address']"
              >
              </vmessage>
            </mat-error>
          </mat-form-field>
        </div>
        <div class="row">
          <div class="col-12 col-md-6">
            <div class="form-group" *ngIf="!id">
              <mat-label>Password</mat-label>
              <mat-form-field class="w-100">
                <input
                  matInput
                  formControlName="password"
                  [type]="passwordHide ? 'password' : 'text'"
                  placeholder="Enter Password"
                />
                <mat-icon matSuffix (click)="passwordHide = !passwordHide">{{
                  passwordHide ? "visibility_off" : "visibility"
                }}</mat-icon>
                <mat-error>
                  <vmessage
                    field="password"
                    [control]="form.controls['password']"
                  >
                  </vmessage>
                </mat-error>
              </mat-form-field>
            </div>
          </div>
          <div class="col-12 col-md-6">
            <div class="form-group" *ngIf="!id">
              <mat-label>Confirm Password</mat-label>
              <mat-form-field class="w-100">
                <input
                  matInput
                  formControlName="confirmPassword"
                  [type]="confirmHide ? 'password' : 'text'"
                  placeholder="Please Confirm Password"
                />
                <mat-icon matSuffix (click)="confirmHide = !confirmHide">{{
                  confirmHide ? "visibility_off" : "visibility"
                }}</mat-icon>
                <mat-error>
                  <vmessage
                    field="confirmPassword"
                    [control]="form.controls['confirmPassword']"
                  >
                  </vmessage>
                </mat-error>
              </mat-form-field>
            </div>
          </div>
        </div>

        <div class="form-check">
          <input
            class="form-check-input"
            type="checkbox"
            formControlName="active"
          />
          <label class="form-check-label"> Active </label>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-12">
        <div class="float-end">
          <button
            (click)="uploadFile.click()"
            type="button"
            class="btn btn-custom-upload me-1"
          >
            Upload Images
          </button>
          <input
            #uploadFile
            type="file"
            hidden
            type="file"
            (change)="onFileChange($event)"
            accept="image/*"
          />
          <button class="btn btn-custom">Save</button>
        </div>
      </div>
    </div>
  </form>
</div>

<app-loading></app-loading>
